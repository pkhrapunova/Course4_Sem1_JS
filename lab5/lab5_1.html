<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>JS Arrays Tasks</title>
    <style>
        body { background: black; color: white; font-family: monospace; }
        #console {
            width: 600px; height: 400px;
            border: 1px solid green; padding: 5px;
            color: lime; overflow-y: auto;
        }
        .menu a {
            margin-right: 15px;
            color: lightblue;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="menu">
        <a onclick="task1()">01-ArraysX</a> |
        <a onclick="task2()">02-CompareCharArray</a> |
        <a onclick="task3()">03-MaximalSequence</a> |
        <a onclick="task4()">04-MostFrequent</a>
    </div>

    <button onclick="clearConsole()">Clear</button>
    <div id="console"></div>

    <script>
        (function () {
            function createJsConsole(selector) {
                var self = this;
                var consoleElement = document.querySelector(selector);

                if (consoleElement.className) {
                    consoleElement.className = consoleElement.className + " js-console";
                }
                else {
                    consoleElement.className = "js-console";
                }

                var textArea = document.createElement("p");
                consoleElement.appendChild(textArea);

                self.write = function jsConsoleWrite(text) {
                    var textLine = document.createElement("span");
                    textLine.innerHTML = text;
                    textArea.appendChild(textLine);
                    consoleElement.scrollTop = consoleElement.scrollHeight;
                }

                self.writeLine = function jsConsoleWriteLine(text) {
                    self.write(text);
                    textArea.appendChild(document.createElement("br"));
                }

                self.clear = function () {
                    consoleElement.innerHTML = "";
                }

                return self;
            }
            jsConsole = new createJsConsole("#console");
        }).call(this);

        // ------------------- ЗАДАЧИ -------------------

        // 1. Массив из 20 чисел (индекс * 5)
        function task1() {
            jsConsole.clear();
            let arr = [];
            for (let i = 0; i < 20; i++) {
                arr[i] = i * 5;
                jsConsole.writeLine(arr[i]);
            }
        }

        // 2. Лексикографическое сравнение
        function task2() {
            jsConsole.clear();
            let arr1 = ['a', 'b', 'c', 'd'];
            let arr2 = ['a', 'b', 'd', 'c'];

            let result = "Массивы равны";
            for (let i = 0; i < Math.min(arr1.length, arr2.length); i++) {
                if (arr1[i] < arr2[i]) {
                    result = "Первый массив меньше второго";
                    break;
                }
                if (arr1[i] > arr2[i]) {
                    result = "Первый массив больше второго";
                    break;
                }
            }
            if (result === "Массивы равны" && arr1.length !== arr2.length) {
                result = arr1.length < arr2.length ? "Первый массив меньше второго" : "Первый массив больше второго";
            }
            jsConsole.writeLine(result);
        }

        // 3. Максимальная последовательность равных элементов
        function task3() {
            jsConsole.clear();
            let arr = [2, 1, 1, 2, 3, 3, 2, 2, 2, 1];
            let maxSeq = [];
            let currentSeq = [arr[0]];

            for (let i = 1; i < arr.length; i++) {
                if (arr[i] === arr[i - 1]) {
                    currentSeq.push(arr[i]);
                } else {
                    if (currentSeq.length > maxSeq.length) {
                        maxSeq = currentSeq;
                    }
                    currentSeq = [arr[i]];
                }
            }
            if (currentSeq.length > maxSeq.length) {
                maxSeq = currentSeq;
            }

            jsConsole.writeLine("[" + maxSeq.join(", ") + "]");
        }

        // 4. Наиболее частое число
        function task4() {
            jsConsole.clear();
            let arr = [4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3];
            let freq = {};
            let maxNum = arr[0];
            let maxCount = 1;

            for (let num of arr) {
                freq[num] = (freq[num] || 0) + 1;
                if (freq[num] > maxCount) {
                    maxCount = freq[num];
                    maxNum = num;
                }
            }
            jsConsole.writeLine(maxNum + " (" + maxCount + " раз)");
        }

        function clearConsole() {
            jsConsole.clear();
        }
    </script>
</body>
</html>
